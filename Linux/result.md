## Part 1. Установка ОС

**== Задание ==**

##### Установи **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)

- Графический интерфейс должен отсутствовать.

- Узнай версию Ubuntu, выполнив команду \
`cat /etc/issue.`
- Вставь скриншот с выводом команды.
![linux](images/part1.png)
## Part 2. Создание пользователя

**== Задание ==**

##### Создай пользователя, отличного от пользователя, который создавался при установке. Пользователь должен быть добавлен в группу `adm`.

- Вставь скриншот вызова команды для создания пользователя.
![linux](images/part2.1.png)
Определяем пользователя в группу adm
![linux](images/part2.2.png)
- Новый пользователь должен быть в выводе команды \
`cat /etc/passwd`
- Вставь скриншот с выводом команды.
![linux](images/part2.3.png)

## Part 3. Настройка сети ОС
**== Задание ==**

##### Задай название машины вида user-1  
- $ hostnamectl - узнать имя хоста
- $ sudo hostnamectl set-hostname user-1- сменить имя хоста

##### Установи временную зону, соответствующую твоему текущему местоположению.  
- $ timedatectl - узнать текущий часовой пояс
- $ timedatectl list-timezones - получая доступные часовые пояса
- $ timedatectl set-timezone Europe/Moscow

##### Выведи названия сетевых интерфейсов с помощью консольной команды.
- $ ls /sys/class/net - выводим список сетевых интерфейсов
- В отчёте дай объяснение наличию интерфейса lo.  
Интерфейс lo - это стандартный сетевой интерфейс, который всегда должен быть присутствующим в операционных системах, поддерживающих UNIX-подобные системы, включая Linux. Это интерфейс замыкания на себя (loopback interface), который используется для тестирования сетевых соединений на том же устройстве.


##### Используя консольную команду получи ip адрес устройства, на котором ты работаешь, от DHCP сервера.
- $ ip address - получаем ip адрес устройства 
![linux](images/part3.1.png)
- В отчёте дай расшифровку DHCP.  
DHCP (Dynamic Host Configuration Protocol) - это сетевой протокол, используемый для автоматического присвоения IP-адресов и других параметров связи устройствам, подключенным к сети. Это позволяет управлять IP-настройками устройств в локальной сети, например, автоматическим и динамическим назначением IP-адресов

##### Определи и выведи на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
- $ ip route - узнаем ип адрес по умолчанию
- $ wget -qO- ifconfig.me - узнаем внешний ип
![linux](images/part3.2.png)
##### Задай статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (используй публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  
- $ sudo vim /etc/netplan/00-installer-config.yaml - открываем редактор вим для того, чтобы задать статичные данные
![linux](images/part3.3.png)
##### Перезагрузи виртуальную машину. Убедись, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  
![linux](images/part3.4.png)
- В отчёте опиши, что сделал для выполнения всех семи пунктов (можно как текстом, так и скриншотами).
- Успешно пропингуй удаленные хосты 1.1.1.1 и ya.ru и вставь в отчёт скрин с выводом команды. В выводе команды должна быть фраза «0% packet loss».
![linux](images/part3.5.png)

## Part 4. Обновление ОС

**== Задание ==**

##### Обнови системные пакеты до последней на момент выполнения задания версии.  
- $ sudo apt upgrade - обновление пакетов
- После обновления системных пакетов, если ввести команду обновления повторно, должно появиться сообщение, что обновления отсутствуют.
- Вставь скриншот с этим сообщением в отчёт.
![linux](images/part4.png)

## Part 5. Использование команды **sudo**

**== Задание ==**

##### Разреши пользователю, созданному в [Part 2](#part-2-создание-пользователя), выполнять команду sudo.
![linux](images/5.1.png)
- В отчёте объясни *истинное* назначение команды sudo (про то, что это слово - «волшебное», писать не стоит). 
Команда sudo в Ubuntu используется для выполнения команд от имени суперпользователя или другого пользователя с привилегиями администратора. Это позволяет пользователям выполнять административные задачи без получения полного доступа к системе.
При использовании sudo, система запрашивает ввод пароля пользователя, что увеличивает безопасность системы
- Поменяй hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя) (используя sudo).
- Вставь скрин с изменённым hostname в отчёт.

## Part 6. Установка и настройка службы времени

**== Задание ==**

##### Настрой службу автоматической синхронизации времени.  

- Выведи время часового пояса, в котором ты сейчас находишься.
- Вывод следующей команды должен содержать `NTPSynchronized=yes`: \
  `timedatectl show`
- Вставь скрины с корректным временем и выводом команды в отчёт.
![linux](images/6.png)

## Part 7. Установка и использование текстовых редакторов 

**== Задание ==**

##### Установи текстовые редакторы **VIM** (+ любые два по желанию **NANO**, **MCEDIT**, **JOE** и т.д.)  
##### Используя каждый из трех выбранных редакторов, создай файл *test_X.txt*, где X -- название редактора, в котором создан файл. Напиши в нём свой никнейм, закрой файл с сохранением изменений.  
- В отчёт вставь скриншоты:
  - Из каждого редактора с содержимым файла перед закрытием.
- В отчёте укажи, что сделал для выхода с сохранением изменений.
- 1)vim
![linux](images/7.1.png)
esc -> :wq

- 2)nano
![linux](images/7.2.png)
ctrl+x -> y -> enter

- 3)joe
![linux](images/7.3.png)
ctrl+K -> X


##### Используя каждый из трех выбранных редакторов, открой файл на редактирование, отредактируй файл, заменив никнейм на строку «21 School 21», закрой файл без сохранения изменений.
- В отчёт вставь скриншоты:
    - Из каждого редактора с содержимым файла после редактирования.
- В отчёте укажи, что сделал для выхода без сохранения изменений.
- 1)vim
![linux](images/7.4.png)
![linux](images/7.5.png)
ecp -> :q!

- 2)nano
![linux](images/7.20.png)
![linux](images/7.6.png)
ctrl+x -> n

- 3)joe
![linux](images/7.7.png)
![linux](images/7.8.png)
ctrl+c -> y

##### Используя каждый из трех выбранных редакторов, отредактируй файл ещё раз (по аналогии с предыдущим пунктом), а затем освой функции поиска по содержимому файла (слово) и замены слова на любое другое.
- В отчёт вставь скриншоты:
    - Из каждого редактора с результатами поиска слова.
    - Из каждого редактора с командами, введёнными для замены слова на другое.

- 1)vim
поиск
![linux](images/7.9.png)
замена
![linux](images/7.10.png)

- 2)nano
поиск
![linux](images/7.11.png)
![linux](images/7.12.png)
замена
![linux](images/7.13.png)
![linux](images/7.14.png)
![linux](images/7.15.png)

- 3)joe
поиск
![linux](images/7.16.png)
замена
![linux](images/7.17.png)
![linux](images/7.18.png)
![linux](images/7.19.png)


## Part 8. Установка и базовая настройка сервиса **SSHD**

**== Задание ==**

##### Установи службу SSHd.  
##### Добавь автостарт службы при загрузке системы. 
![linux](images/8.1.png) 
##### Перенастрой службу SSHd на порт 2022.  
- $ sudo nano /etc/ssh/sshd_config
![linux](images/8.2.png)
![linux](images/8.3.png)  
##### Используя команду ps, покажи наличие процесса sshd. Для этого к команде нужно подобрать ключи.
- В отчёте объясни значение команды и каждого ключа в ней.
С - выбирать процессы по имени команды
![linux](images/8.4.png) 
##### Перезагрузи систему.
- В отчёте опиши, что сделал для выполнения всех пяти пунктов (можно как текстом, так и скриншотами).
- Вывод команды netstat -tan должен содержать  \
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  \
(если команды netstat нет, то ее нужно установить)
- Скрин с выводом команды вставь в отчёт.
![linux](images/8.5.png) 
- В отчёте объясни значение ключей -tan, значение каждого столбца вывода, значение 0.0.0.0.
Команда netstat -tan используется для отображения статистики сетевых соединений в операционной системе. 
Опция -t означает, что будут показаны только ТСР-соединения
Опция -a означает, что будут показаны все соединения и слушающие сокеты.
Опция -n означает, что будет использоваться числовой формат отображения адресов, а не их символьное представление.
Таким образом, команда netstat -tan показывает все тактивные ТСР-соединения, включая локальный и удаленный адрес, номер порта и состояние соединения
Значение столбцов:
protocol: протокол ТСР, используемый для соединения 
local address: локальный адрес и порт, к которым подключено соединение
foreign address: адрес и порт удаленного узла, к которому подключено соединение
state: текущее состояние соединения, например LISTEN - процесс ожидает входящих соединений, ESTABLISHED - соединение установлено и активно используется
0.0.0.0.: Статический маршрут по умолчанию: Это означает, что в таблице маршрутизации не указан конкретный адрес в качестве следующего перехода на пути пакета к его конечному получателю. Когда маршрут по умолчанию используется с маской подсети 0.0.0.0, он соответствует любому адресу.


## Part 9. Установка и использование утилит **top**, **htop**

**== Задание ==**
 
##### Установи и запусти утилиты top и htop.  
![linux](images/9.1.png) 
![linux](images/9.2.png) 
- По выводу команды top определи и напиши в отчёте:
  - uptime
  00:08:02
  - количество авторизованных пользователей
  1
  - общую загрузку системы
  0.00, 0.00, 0.00
  - общее количество процессов
  92
  - загрузку cpu
  0.0
  - загрузку памяти
  965.1
  - pid процесса занимающего больше всего памяти
  1
  - pid процесса, занимающего больше всего процессорного времени
  1085
- В отчёт вставь скрин с выводом команды htop:
  - отсортированному по PID,
  ![linux](images/9.3.png) 
   PERCENT_CPU, 
   ![linux](images/9.4.png) 
   PERCENT_MEM,
   ![linux](images/9.5.png) 
    TIME
    ![linux](images/9.6.png) 
  - отфильтрованному для процесса sshd
  ![linux](images/9.7.png) 
  - с процессом syslog, найденным, используя поиск 
  ![linux](images/9.8.png) 
  - с добавленным выводом hostname, clock и uptime  
  ![linux](images/9.9.png) 

## Part 10. Использование утилиты **fdisk**

**== Задание ==**

##### Запусти команду fdisk -l.
![linux](images/10.png) 
- В отчёте напиши название жесткого диска (Disk /dev/sda), его размер (10 gb) и количество секторов (209711520), а также размер swap (1480).

## Part 11. Использование утилиты **df** 

**== Задание ==**

##### Запусти команду df.  
![linux](images/11.1.png) 
- В отчёте напиши для корневого раздела (/):
  - размер раздела
  8408452 кб
  - размер занятого пространства
  4123008 кб
  - размер свободного пространства
  3836728 кб
  - процент использования
  52
- Определи и напиши в отчёт единицу измерения в выводе.  
кб

##### Запусти команду df -Th.
![linux](images/11.2.png) 
- В отчёте напиши для корневого раздела (/):
    - размер раздела
    8,1  гб
    - размер занятого пространства
    4
    - размер свободного пространства
    3,7
    - процент использования
    52
- Определи и напиши в отчёт тип файловой системы для раздела.
ext4 — журналируемая файловая система, используемая преимущественно в операционных системах с ядром Linux

## Part 12. Использование утилиты **du**

**== Задание ==**

##### Запусти команду du.
- ![linux](images/12.7.png) 
##### Выведи размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
- /home
![linux](images/12.1.png) 

- /var
![linux](images/12.2.png)

- /var/log
![linux](images/12.3.png)

##### Выведи размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
- В отчёт вставить скрины с выводом всех использованных команд.
![linux](images/12.5.png)


## Part 13. Установка и использование утилиты **ncdu**

**== Задание ==**

##### Установи утилиту ncdu.
##### Выведи размер папок /home, /var, /var/log.
- /home 44K
![linux](images/13.1.png)
- /var 603M
![linux](images/13.2.png)
- /var/log 19M
![linux](images/13.3.png)
- Размеры должны примерно совпадать с полученными в [Part 12](#part-12-использование-утилиты-du).
- В отчёт вставь скрины с выводом использованных команд.

## Part 14. Работа с системными журналами

**== Задание ==**

##### Открой для просмотра:
##### 1. /var/log/dmesg
- /var/log/dmesg — драйвера устройств. Одноименной командой можно просмотреть вывод содержимого файла. Размер журнала ограничен, когда файл достигнет своего предела, старые сообщения будут перезаписаны более новыми.
![linux](images/14.1.png)

##### 2. /var/log/syslog
- /var/log/syslog или /var/log/messages содержит глобальный системный журнал, в котором пишутся сообщения с момента запуска системы, от ядра Linux, различных служб, обнаруженных устройствах, сетевых интерфейсов и много другого.
![linux](images/14.2.png)

##### 3. /var/log/auth.log  
/var/log/auth.log или /var/log/secure — информация об авторизации пользователей, включая удачные и неудачные попытки входа в систему, а также задействованные механизмы аутентификации.
![linux](images/14.3.png)

- Напиши в отчёте время последней успешной авторизации (13:17:01), имя пользователя (radioact) и метод входа в систему (pam_unix).
![linux](images/14.4.png)

- Перезапусти службу SSHd.
- Вставь в отчёт скрин с сообщением о рестарте службы (искать в логах).
![linux](images/14.5.png)

## Part 15. Использование планировщика заданий **CRON**

**== Задание ==**

##### Используя планировщик заданий, запусти команду uptime через каждые 2 минуты.
![linux](images/15.1.png)
- Найди в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении.
![linux](images/15.2.png)
- Выведи на экран список текущих заданий для CRON.
![linux](images/15.3.png)
- Вставь в отчёт скрины со строчками о выполнении и списком текущих задач.
![linux](images/15.4.png)

##### Удали все задания из планировщика заданий.
- В отчёт вставь скрин со списком текущих заданий для CRON.
![linux](images/15.5.png)
